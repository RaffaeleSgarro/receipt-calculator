I implemented the solution as a set of test cases in EndToEndTest.java

Run with

    .\gradlew test
